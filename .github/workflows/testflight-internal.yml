name: TestFlight Internal

# Uses shared workflow from ios-infra for TestFlight internal distribution

on:
  workflow_dispatch:
    inputs:
      run_id:
        description: 'Build workflow run ID (leave empty for latest)'
        required: false
        type: string

concurrency:
  group: testflight-internal
  cancel-in-progress: false

jobs:
  upload:
    uses: wdvr/ios-infra/.github/workflows/ios-testflight-internal.yml@main
    with:
      bundle_id: com.wouterdevriendt.trivit
      run_id: ${{ github.event.inputs.run_id }}
      build_workflow_name: build.yml
    secrets: inherit
